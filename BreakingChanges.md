# 中断性变更

## 说明

此文件记录各版本更新时可能会带来的游戏行为不一样的地方，并不是更新日志，更新日志请在GitHub上查找。  

## 0.4.5

此次更新继续沿用版本号1的设定，在此基础上对部分游戏行为进行修正，这会导致游戏内部分行为与0.4.3和0.4.4不一样。  
1. 设置某个属性为null时，读取行为由强转对应类型改为不进行处理，之前的逻辑很不合理而且很容易报错，不进行处理后，该属性值仍和默认值相同。  
2. `ConveyorBelt`组件中`PrepareTimeMultiplier`属性现在支持输入小数，之前的行为是和WP原版保持一致，输入的小数会进行取整，现在修复了WP原版的这个错误，小数也可以正常使用了。如果之前设置了小数，更新后传送带速度会发生小幅改变。  

## 0.4.3 & 0.4.4

此次更新沿用版本号1的设定，在此基础上对部分游戏行为进行修正，这会导致游戏内部分行为与0.4.2不一样。  
1. `AutoZombiePoint`组件中`PointIncrementPerWave`属性的默认值由`0.333333f`改为`0.333334f`，这样做的好处是第四波僵尸出现时，前者增加了`0.999999f`而后者增加了`1.000002f`，取整之后前者为`0`，后者为`1`。  
2. `SpawnGraveStone`组件中`CountPerColumn`属性的类型被改为`int[9]`，这样做的好处是设置的数组值数量不足9时，游戏会自动填充0而不是直接加载异常。  
3. 长城西游地图中一大波僵尸出现的旗子僵尸被改为旗丁僵尸，这样做的好处是更贴合地图实际情况，若不需要此设定，可禁止一大波出现旗丁僵尸，然后手动指定出现旗子僵尸。  
4. 长城西游地图中青花瓷盆改为可用，花盆改为不可用，这样做的好处是更贴合地图实际情况，如果需要使用花盆，可以设置锁定选卡。  
5. `SeedType`枚举中，编号`56`由空植物改为毒刺，这是之前给毒刺预留的编号，现在实现毒刺后恢复这个编号。  

## 0.4.2

自定义关卡文件在0.4.2版本进行了一次大升级，版本号也升到了1，与之前的自定义关卡文件不兼容，需要手动调整。  
由于此次调整重大且非常有意义，以后更新会继续沿用相同的设计思路，无需手动调整关卡即可在新版本正常玩，但是需要注意新版本的中断性变更，这会导致游戏部分行为出现不同。  

## 0.4.1

发布初代自定义关卡文件。  